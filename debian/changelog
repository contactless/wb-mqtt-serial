wb-mqtt-serial (1.37.1) stable; urgency=medium

  * disable hole registers on modbus error code
  * fix modbus read response invalid data size vulnerability

 -- Islam Boziev <i.boziev@wirenboard.ru>  Thu, 02 Nov 2017 18:14:23 +0300

wb-mqtt-serial (1.37) stable; urgency=medium

  * added device_timeout_ms in config
  * increased default device timeout to 3000ms
  * fixed connection_timeout bug

 -- Islam Boziev <i.boziev@wirenboard.ru>  Thu, 28 Dec 2017 17:55:17 +0300

wb-mqtt-serial (1.36.1) stable; urgency=medium

  * fixed invalid config on "type" property in config

 -- Islam Boziev <i.boziev@wirenboard.ru>  Tue, 09 Jan 2018 18:52:41 +0300

wb-mqtt-serial (1.36) stable; urgency=medium

  * adds WB-MAP12 templates

 -- Evgeny Boger <boger@contactless.ru>  Sat, 23 Dec 2017 17:16:46 +0300

wb-mqtt-serial (1.35) stable; urgency=medium

  * fixes WBIO templates

 -- Evgeny Boger <boger@contactless.ru>  Sat, 23 Dec 2017 16:52:38 +0300

wb-mqtt-serial (1.34) stable; urgency=medium

  * fixes guard_interval_us and frame_timeout_ms for Modbus protocol
  * added guard_interval_us on port level

 -- Evgeny Boger <boger@contactless.ru>  Sat, 09 Dec 2017 02:58:57 +0300

wb-mqtt-serial (1.33.1) stable; urgency=medium

  * fixed libwbmqtt dependency

 -- Islam Boziev <i.boziev@wirenboard.ru>  Wed, 13 Dec 2017 14:55:15 +0300

wb-mqtt-serial (1.33) stable; urgency=medium

  * adds json template for WB-MDM2 (former WB-MD2)

 -- Evgeny Boger <boger@contactless.ru>  Mon, 11 Dec 2017 19:58:59 +0300

wb-mqtt-serial (1.32) stable; urgency=medium

  * adds WB-MRPS6 json template

 -- Attila Door <a.door@contactless.ru>  Fri, 11 Dec 2017 11:00:00 +0300

wb-mqtt-serial (1.31) stable; urgency=medium

  * adds WB-M1W2 template

 -- Evgeny Boger <boger@contactless.ru>  Mon, 11 Dec 2017 16:15:21 +0300

wb-mqtt-serial (1.30) stable; urgency=medium

  * TCP port support
  * added "port_type" port parameter - can be either "serial" or "tcp" (default "serial")
  * added "address" port parameter - IPv4 address or host name. Required if "port_type" is "tcp"
  * added "port" port parameter - TCP port. Required if "port_type" is "tcp"
  * added "connection_timeout_ms" port parameter - connection reset timeout in milliseconds for disconnect detection

 -- Islam Boziev <i.boziev@wirenboard.ru>  Wed, 23 Oct 2017 17:24:54 +0300

wb-mqtt-serial (1.29.3) stable; urgency=medium

  * fixes default config on WB6

 -- Evgeny Boger <boger@contactless.ru>  Fri, 27 Oct 2017 17:18:46 +0300

wb-mqtt-serial (1.29.2) stable; urgency=medium

  * update libwbmqtt version

 -- Islam Boziev <i.boziev@wirenboard.ru>  Thu, 23 Nov 2017 15:30:30 +0300

wb-mqtt-serial (1.29.1) stable; urgency=medium

  * fixed slave id collision on different ports

 -- Islam Boziev <i.boziev@wirenboard.ru>  Mon, 20 Nov 2017 17:49:17 +0300

wb-mqtt-serial (1.29) stable; urgency=medium

  * add MQTT topic prefix support (new command line arg: -T <topic prefix>)
  * add MQTT authentication support (new command line args: -u <MQTT user> -P <password>)

 -- Evgeny Boger <boger@contactless.ru>  Thu, 09 Nov 2017 01:31:05 +0300

wb-mqtt-serial (1.28.5) stable; urgency=medium

  * flush port on connect

 -- Islam Boziev <i.boziev@wirenboard.ru>  Wed, 15 Nov 2017 16:19:56 +0300

wb-mqtt-serial (1.28.4) stable; urgency=medium

  * check modbus slave id and function code in response

 -- Islam Boziev <i.boziev@wirenboard.ru>  Tue, 14 Nov 2017 16:53:34 +0300

wb-mqtt-serial (1.28.3) stable; urgency=medium

  * add frame_timeout_ms to schema

 -- Evgeny Boger <boger@contactless.ru>  Fri, 27 Oct 2017 20:46:59 +0300
wb-mqtt-serial (1.28.2) stable; urgency=medium

  * do not exit on modbus invalid exception code

 -- Islam Boziev <i.boziev@wirenboard.ru>  Tue, 7 Nov 2017 16:53:34 +0300

wb-mqtt-serial (1.28.1) stable; urgency=medium

  * skip entire frame on modbus crc checksum error

 -- Islam Boziev <i.boziev@wirenboard.ru>  Thu, 26 Oct 2017 16:53:34 +0300

wb-mqtt-serial (1.28) stable; urgency=medium

  * support for IO extensions via modbus
  * new protocol "modbus_io"
  * new slave id type aggregated slave id - only for "modbus_io", format: <modbus slave id>:<module position>
  * new config parameters "stride" and "shift" - only for "modbus_io": register address is <address in channel config> + <stride>*<module position> + <shift>

 -- Islam Boziev <i.boziev@wirenboard.ru>  Mon, 14 Aug 2017 13:21:31 +0300

wb-mqtt-serial (1.27.1) stable; urgency=medium

  * config parser: load template channels first, preserve order on override

 -- Islam Boziev <i.boziev@wirenboard.ru>  Thu, 20 Oct 2017 23:01:14 +0300

wb-mqtt-serial (1.27) stable; urgency=medium

  * added "round_to" channel parameter, if specified, channel's value becomes closest multiple of round_to

 -- Islam Boziev <i.boziev@wirenboard.ru>  Wed, 26 Jul 2017 18:37:14 +0300

wb-mqtt-serial (1.26.7) stable; urgency=medium

  * removed libmodbus dependency
  * redone modbus tests

 -- Islam Boziev <i.boziev@wirenboard.ru>  Wed, 26 Jul 2017 11:48:50 +0300

wb-mqtt-serial (1.26.6) stable; urgency=medium

  * mercury23x: adds per-phase energy registers

 -- Evgeny Boger <boger@contactless.ru>  Sat, 01 Jul 2017 22:25:25 +0300

wb-mqtt-serial (1.26.5) stable; urgency=medium

  * milur and mercury integration tests

 -- Islam Boziev <i.boziev@wirenboard.ru>  Mon, 17 Jul 2017 14:08:20 +0300

wb-mqtt-serial (1.26.4) stable; urgency=medium

  * max read registers default 1
  * corrected configs and tests

 -- Islam Boziev <i.boziev@wirenboard.ru>  Mon, 17 Jul 2017 13:58:12 +0300

wb-mqtt-serial (1.26.3) stable; urgency=medium

  * detect serial device reconnect
  * write setup section on reconnect (covered by tests)
  * do not poll not available registers
  * reset list of unavailable registers after reconnect

 -- Islam Boziev <i.boziev@wirenboard.ru>  Fri, 14 Jul 2017 18:34:02 +0300

wb-mqtt-serial (1.26.2) stable; urgency=medium

  * parse templates only with json extension

 -- Islam Boziev <i.boziev@wirenboard.ru>  Wed, 05 Jul 2017 17:03:36 +0300

wb-mqtt-serial (1.26.1) stable; urgency=medium

  * templates for two more Wellpro devices
  * add error_values in WB-MSW2 template for CO2 and ext. temp sensors

 -- Evgeny Boger <boger@contactless.ru>  Tue, 20 Jun 2017 20:35:04 +0300

wb-mqtt-serial (1.26) stable; urgency=medium

  * Mercury 23x: support more parameters

 -- Evgeny Boger <boger@contactless.ru>  Tue, 13 Jun 2017 21:49:26 +0300

wb-mqtt-serial (1.25.2) stable; urgency=medium

  * milur305: fix erroneous handling of negative currents

 -- Evgeny Boger <boger@contactless.ru>  Wed, 14 Jun 2017 11:09:42 +0300

wb-mqtt-serial (1.25.1) stable; urgency=medium

  * adds support for Mercury 206 energy meters

 -- Evgeny Boger <boger@contactless.ru>  Thu, 01 Jun 2017 22:14:48 +0300

wb-mqtt-serial (1.25) stable; urgency=medium

  * adds support for little-endian word order (AABBCCDD => [CC DD] [AA BB])

 -- Evgeny Boger <boger@contactless.ru>  Fri, 19 May 2017 20:30:57 +0300

wb-mqtt-serial (1.24) stable; urgency=medium

  * Add value offset to schema

 -- Yury Usishchev <y.usishchev@contactless.ru>  Tue, 02 May 2017 14:44:58 +0300

wb-mqtt-serial (1.23) stable; urgency=medium

  * Add WB6 config

 -- Alexey Ignatov <lexszero@gmail.com>  Fri, 14 Apr 2017 02:43:49 +0300

wb-mqtt-serial (1.22) stable; urgency=medium

  * adds WB-MR6C template

 -- Evgeny Boger <boger@contactless.ru>  Wed, 08 Mar 2017 20:15:07 +0300

wb-mqtt-serial (1.21) stable; urgency=medium

  * Adds support s2k devices

 -- Evgeny Boger <boger@contactless.ru>  Mon, 09 Jan 2017 22:02:25 +0300

wb-mqtt-serial (1.20) stable; urgency=medium

  * Change slave ID format: non-integer slave ids are supported
  * workaround for Uniel bug
  * introduce guard interval
  * Support for Mercury200
  * Support for 32-bit Milur addressing
  * Added support for max_read_registers option

 -- Evgeny Boger <boger@contactless.ru>  Mon, 09 Jan 2017 05:27:54 +0300

wb-mqtt-serial (1.19.1) stable; urgency=medium

  * valid default config files for WB5.6 and WB5.8

 -- Evgeny Boger <boger@contactless.ru>  Wed, 16 Nov 2016 19:34:34 +0300

wb-mqtt-serial (1.19) stable; urgency=medium

  * adds template for WB-MSW2

 -- Evgeny Boger <boger@contactless.ru>  Wed, 05 Oct 2016 15:27:56 +0300

wb-mqtt-serial (1.18) stable; urgency=medium

  * Fixes port-level poll_interval
  * introduces per-device poll_interval

 -- Evgeny Boger <boger@contactless.ru>  Wed, 14 Sep 2016 20:50:12 +0300

wb-mqtt-serial (1.17) stable; urgency=medium

  * char8 register format has been added
  * support for error_value (the register value which indicates error)
  * templates for SDM120 and WP8028ADAM

 -- Evgeny Boger <boger@contactless.ru>  Thu, 01 Sep 2016 15:56:26 +0300

wb-mqtt-serial (1.16.3) stable; urgency=medium

  * workaround for Milur 104 bug

 -- Evgeny Boger <boger@contactless.ru>  Thu, 18 Aug 2016 18:41:09 +0300

wb-mqtt-serial (1.16.2) stable; urgency=medium

  * update libwbmqtt version

 -- Nikita webconn Maslov <n.maslov@contactless.ru>  Thu, 25 Aug 2016 19:59:51 +0300

wb-mqtt-serial (1.16.1) stable; urgency=medium

  * adds template for WB-MS/WB-MSW fw. 2.0+

 -- Evgeny Boger <boger@contactless.ru>  Tue, 26 Jul 2016 20:36:27 +0300

wb-mqtt-serial (1.16) stable; urgency=medium

  * adds support for Pulsar and Pulsar-M water meters
  * adds support for Pulsar compact heat meter

 -- Nikita Maslov <n.maslov@contactless.ru>  Mon, 04 Jul 2016 15:08:58 +0300

wb-mqtt-serial (1.15.3) stable; urgency=medium

  * fixes incorrect Mercury 230 readings

wb-mqtt-serial (1.15.2) stable; urgency=medium

  * adds schema for WB-MSGR

 -- Evgeny Boger <boger@contactless.ru>  Thu, 09 Jun 2016 18:42:28 +0300

wb-mqtt-serial (1.15.1) stable; urgency=medium

  * schema fix

 -- Ivan Shvedunov <ivan4th@gmail.com>  Tue, 12 May 2016 03:36:44 +0300

wb-mqtt-serial (1.15.0) stable; urgency=medium

  * scheduler merge

 -- Ivan Shvedunov <ivan4th@gmail.com>  Tue, 10 May 2016 22:31:29 +0300

wb-mqtt-serial (1.15+beta1) stable; urgency=medium

  * scheduler

 -- Evgeny Boger <boger@contactless.ru>  Wed, 27 Apr 2016 20:03:43 +0300

wb-mqtt-serial (1.14.6) stable; urgency=medium

  * adds config option to force publishing of unchanged values on set interval

 -- Evgeny Boger <boger@contactless.ru>  Wed, 27 Apr 2016 10:49:34 +0300

wb-mqtt-serial (1.14.5) stable; urgency=medium

  * adds support for Milur 104/105
  * adds support for power factor register in Milur devices (104/105 only for the moment)

 -- Evgeny Boger <boger@contactless.ru>  Wed, 20 Apr 2016 20:33:16 +0300

wb-mqtt-serial (1.14.4) stable; urgency=medium

  * response timeout defaults to 500ms for serial protocols

 -- Evgeny Boger <boger@contactless.ru>  Wed, 06 Apr 2016 09:18:58 +0300

wb-mqtt-serial (1.14.3) stable; urgency=medium

  * relocate schemas

 -- Ivan Shvedunov <ivan4th@gmail.com>  Thu, 25 Feb 2016 05:37:36 +0300

wb-mqtt-serial (1.14.2) stable; urgency=medium

  * per-platform configs

 -- Evgeny Boger <boger@contactless.ru>  Mon, 08 Feb 2016 18:01:28 +0300

wb-mqtt-serial (1.14.1) stable; urgency=medium

  * renamed to wb-mqtt-serial
  * write scheduling improvements
  * misc fixes

 -- Ivan Shvedunov <ivan4th@gmail.com>  Thu, 04 Feb 2016 06:36:43 +0300

wb-homa-modbus (1.14.1) stable; urgency=medium

  * renamed to wb-mqtt-serial

 -- Ivan Shvedunov <ivan4th@gmail.com>  Thu, 04 Feb 2016 06:36:43 +0300

wb-homa-modbus (1.14.0) stable; urgency=medium

  * support modbus and non-modbus devices on the same port
  * configurable frame timeout

 -- Ivan Shvedunov <ivan4th@gmail.com>  Wed, 27 Jan 2016 01:22:12 +0300

wb-homa-modbus (1.13.2) stable; urgency=medium

  * various EM meters impovements and bug fixes

 -- Evgeny Boger <boger@contactless.ru>  Mon, 28 Dec 2015 12:01:28 +0300

wb-homa-modbus (1.13.1) stable; urgency=medium

  * fixes handling IVTM devices with device_id > 9

 -- Evgeny Boger <boger@contactless.ru>  Thu, 26 Nov 2015 00:12:11 +0300

wb-homa-modbus (1.13.0) stable; urgency=medium

  * Concurrent port access
  * adds support for IVTM protocol and IVTM-7M-3 device
  * adds support for Milur and Mercury electricity meter protocols

 -- Evgeny Boger <boger@contactless.ru>  Fri, 13 Nov 2015 02:07:11 +0300

wb-homa-modbus (1.12.10) stable; urgency=medium

  * adds support for WB-MR14
  * removes trailing zeroes in reported values

 -- Evgeny Boger <boger@contactless.ru>  Tue, 19 Jan 2016 18:51:30 +0300

wb-homa-modbus (1.12.9) stable; urgency=medium

  * adds support for WB-MS-THLS

 -- Evgeny Boger <boger@contactless.ru>  Tue, 08 Dec 2015 18:17:54 +0300

wb-homa-modbus (1.12.8) stable; urgency=medium

  * Add config to wb-configs.d
  * proper string-to-int conversion for string literals in
  slave_id and address properties
  * Add WB-MR11 template

 -- Evgeny Boger <boger@contactless.ru>  Sat, 17 Oct 2015 18:07:35 +0300

wb-homa-modbus (1.12.7) stable; urgency=medium

  * fix erroneous behaviour when no devices are specified

 -- Evgeny Boger <boger@contactless.ru>  Fri, 16 Oct 2015 19:29:48 +0300

wb-homa-modbus (1.12.6) stable; urgency=medium

  * change default poll interval to 20ms
  * ship with default config

 -- Evgeny Boger <boger@contactless.ru>  Mon, 05 Oct 2015 20:21:37 +0300

wb-homa-modbus (1.12.5) stable; urgency=medium

  * support on_value for writing

 -- Evgeny Boger <boger@contactless.ru>  Sun, 04 Oct 2015 21:40:50 +0300

wb-homa-modbus (1.12.4) UNRELEASED; urgency=medium

  * Use WriteSingleRegister when possible

 -- Evgeny Boger <boger@contactless.ru>  Sat, 03 Oct 2015 01:47:17 +0300

wb-homa-modbus (1.12.3) stable; urgency=medium

  * add confed schema

 -- Evgeny Boger <boger@contactless.ru>  Sun, 20 Sep 2015 22:28:46 +0300

wb-homa-modbus (1.12.2) stable; urgency=medium

  * support for SDM220 electricity meter (http://www.aliexpress.com/item/SDM220Modbus-Single-Phase-DIN-Rail-Kwh-meter-with-Pulse-Output-and-RS485-Modbus-Communication-MID-approved/32346363823.html)
  * fix crash on receiving mailformed /on payload

 -- Evgeny Boger <boger@contactless.ru>  Tue, 18 Aug 2015 14:27:06 +0300

wb-homa-modbus (1.12.1) stable; urgency=medium

  *  support for http://siqi.cc/en/product/57.html meter

 -- Evgeny Boger <boger@contactless.ru>  Sun, 12 Jul 2015 21:39:33 +0300

wb-homa-modbus (1.12) stable; urgency=medium

  * add support for float and double IEEE types
  * add support for signed 64-bit integer

 -- Evgeny Boger <boger@contactless.ru>  Wed, 08 Jul 2015 19:40:53 +0300

wb-homa-modbus (1.11) stable; urgency=medium

  * Add support for 2- and 4- words wide "registers"
  * Supported formats are: S64, U32, S32
  * Add template for WB-MCM16


 -- Evgeny Boger <boger@contactless.ru>  Fri, 03 Jul 2015 23:05:23 +0300

wb-homa-modbus (1.10.1) stable; urgency=medium

  * add kvadro RS485 <- 1-wire DS18B20 converter

 -- Evgeny Boger <boger@contactless.ru>  Fri, 03 Jul 2015 15:14:07 +0300

wb-homa-modbus (1.10) stable; urgency=medium

  * libwbmqtt 1.3

 -- Evgeny Boger <boger@contactless.ru>  Fri, 03 Jul 2015 00:34:17 +0300

wb-homa-modbus (1.9.2) stable; urgency=medium

  * build with new mosquitto

 -- Evgeny Boger <boger@contactless.ru>  Thu, 02 Jul 2015 20:13:32 +0300

wb-homa-modbus (1.9.1) stable; urgency=medium

  * fix for parity setting

 -- Evgeny Boger <boger@contactless.ru>  Tue, 16 Jun 2015 22:22:45 +0300

wb-homa-modbus (1.9) stable; urgency=medium

  * report errors via controls/<control>/meta/error

 -- Evgeny Boger <boger@contactless.ru>  Fri, 15 May 2015 10:52:29 +0000
